SPH1 <- SPH %>% ungroup() %>% group_by(Hexagon,Species1) %>% summarize(m.sph=mean(sph))%>%
ungroup() %>% group_by(Hexagon) %>% summarize(sum(m.sph))
View(Live.trees)
SPH1 <- SPH %>% ungroup() %>% group_by(Hexagon,Species1) %>% summarize(m.sph=mean(sph))
49*25
SPH <-  Live.trees %>%
group_by(plot.id, Hexagon, Plot) %>% count(Species1) %>%
mutate(sph=n*10000/400) %>% basal= pi()*(DBH/200)^2
pi
SPH <-  Live.trees %>%
group_by(plot.id, Hexagon, Plot) %>% count(Species1) %>%
mutate(sph=n*10000/400) %>% basal= pi*(DBH/200)^2
SPH <-  Live.trees %>%
group_by(plot.id, Hexagon, Plot) %>% count(Species1) %>%
mutate(sph=n*10000/400) %>% basal= pi*(DBH/200)^2
SPH <-  Live.trees %>%
group_by(plot.id, Hexagon, Plot) %>% count(Species1) %>%
mutate(sph=n*10000/400) %>% basal= pi*(DBH/200)^2
SPH <-  Live.trees %>%
group_by(plot.id, Hexagon, Plot) %>% count(Species1) %>%
mutate(sph=n*10000/400) %>% mutate(basal= pi*(DBH/200)^2)
SPH <-  Live.trees %>%
group_by(plot.id, Hexagon, Plot) %>% count(Species1) %>%
mutate(sph=n*10000/400) %>% mutate(basal= pi*(DBH/200)^2)
SPH <-  Live.trees %>%
group_by(plot.id, Hexagon, Plot) %>% count(Species1)
Basal.area <- Live.trees %>%
mutate(sph=n*10000/400) %>% mutate(basal= pi*(DBH/200)^2)
Basal.area <- Live.trees %>%
mutate(sph=n*10000/400) %>% mutate(basal= pi*(DBH/200)^2)
Basal.area <- Live.trees %>%
mutate(sph=n*10000/400) %>% mutate(basal= pi*(DBH/200)^2)
SPH <-  Live.trees %>%
group_by(plot.id, Hexagon, Plot) %>% count(Species1)
SPH1 <- SPH %>% ungroup() %>% group_by(Hexagon,Species1) %>% summarize(m.sph=mean(sph))
Live.trees <- trees2 %>% filter(Live_status=="Standing (Live)")
SPH <-  Live.trees %>%
group_by(plot.id, Hexagon, Plot) %>% count(Species1)
SPH1 <- SPH %>% ungroup() %>% group_by(Hexagon,Species1) %>% summarize(m.sph=mean(sph))
SPH <-  Live.trees %>%
group_by(plot.id, Hexagon, Plot) %>% count(Species1) %>%
mutate(sph=n*10000/400)
SPH1 <- SPH %>% ungroup() %>% group_by(Hexagon,Species1) %>% summarize(m.sph=mean(sph))%>%
ungroup() %>% group_by(Hexagon) %>% summarize(sum(m.sph))
Basal.area <- Live.trees %>%
mutate(sph=n*10000/400) %>% mutate(basal= pi*(DBH/200)^2)
Basal.area <- Live.trees %>% mutate(basal= pi*(DBH/200)^2)
View(Basal.area)
Basal.area <- Live.trees %>% mutate(basal= pi*(DBH/200)^2/400*10000)
Basal.area <- Live.trees %>% mutate(basal= pi*(DBH/200)^2/400*10000) %>%
group_by(plot.id) %>% summarize(sum(basal))
200^2
Basal.area <- Live.trees %>% mutate(basal= pi*(DBH/200)^2/400*10000)
0.38/400*10000
Basal.area <- Live.trees %>% mutate(basal= pi*((DBH/200)^2)/400*10000)
Basal.area <- Live.trees %>% mutate(basal= pi*((DBH/200)^2)) %>%
group_by(plot.id) %>% summarize(BA=sum(basal)/400*10000)
Basal.area <- Live.trees %>% mutate(basal= pi*(DBH/200)^2)
Basal.area <- Live.trees %>% mutate(basal= pi*(DBH/200)^2)%>%
group_by(plot.id) %>% summarize(BA=sum(basal)/400*10000)
Basal.area <- Live.trees %>% mutate(basal= pi*(DBH/200)^2)%>%
group_by(plot.id) %>% summarize(BA=sum(basal))
Basal.area <- Live.trees %>% mutate(basal= pi*(DBH/200)^2)%>%
group_by(plot.id) %>% summarize(BA=sum(basal))
Basal.area <- Live.trees %>% mutate(basal= pi*(DBH/200)^2)%>%
group_by(plot.id) %>% summarize(BA=sum(basal)/400*10000)
View(trees)
SPH <-  Live.trees %>%
group_by(plot.id, Hexagon, Plot) %>% count(Species1) %>%
mutate(sph=n*10000/400)
library(dplyr)
library(ggplot2)
dat1 <- read.csv("form-1__data-collection_May19_QA.csv")
dat2 <- read.csv("form-1__data-collection_May26.csv")
lk <- read.csv("lookup1.csv")
dat3 <- rbind(dat1, dat2)
trees <- dat3 %>% select("X1_Establishing_a_new", "X22_Hexagon_",	"X23_Plot_",	"X24_Species",	"X25_If_other_fill_in",
"X26_Is_it_a_snag",	"X27_DBH_cm__tenth_dec",	"X28_Age_Taken",
"X29_If_age_is_taken_r",	"X30_For_tress_that_ar",	"X31_Tree_Class",
"X32_Live_crown_class",	"X33_Conk",	"X34_Blind_Conk",	"X35_Fork_Crook",
"X36_Scar",	"X37_Frost_Damage",	"X38_Mistletoe",	"X39_Rotten_Bark",
"X40_Dead_or_broken_to",	"X41_Insect_Damage",	"X42_Fire_Damage",
"X43_Down_Tree",	"X44_Additional_Commen",
"ec5_uuid")%>%
filter(X1_Establishing_a_new %in% c("No, 11.28m Plot - Core Tree collection", "Yes, ESTABLISH 11.28m plot")) %>%
rename(Test=X1_Establishing_a_new,
Hexagon=X22_Hexagon_,
Plot=X23_Plot_,
Species= X24_Species,
Other_spp= X25_If_other_fill_in,
Live_status= X26_Is_it_a_snag,
DBH=X27_DBH_cm__tenth_dec,
Age_id= X29_If_age_is_taken_r,
Height= X30_For_tress_that_ar,
Crown_class= X32_Live_crown_class,
Cruise_tree_class= X31_Tree_Class,
Conk= X33_Conk,
Blind_conk= X34_Blind_Conk,
Fork_crook= X35_Fork_Crook,
Scar= X36_Scar,
Frost_damage =X37_Frost_Damage,
Mistletoe= X38_Mistletoe,
Rotten_bark= X39_Rotten_Bark,
Dead_broken_top =X40_Dead_or_broken_to,
Insect_damage= X41_Insect_Damage,
Fire_damage= X42_Fire_Damage,
Down_tree= X43_Down_Tree,
Comments= X44_Additional_Commen)
trees1 <- trees %>% filter(ec5_uuid!="dcbab0b8-9f0a-4443-8571-46c0f8b442a1") %>%
mutate(Species1= ifelse(Species=="Ac: poplar", "Ac",
ifelse(Species=="At: trembling aspen", "At",
ifelse(Species=="Bl: subalpine fir", "Bl",
ifelse(Species== "D: alder", "D",
ifelse(Species== "Ep: paper birch", "Ep",
ifelse(Species=="Fd: douglas-fir", "Fd",
ifelse(Species== "Pl: lodgepole pine", "Pl",
ifelse(Species== "Sb: black spruce", "Sb",
ifelse(Species=="Sx: spruce hybrid", "Sx", "Other"))))))))))
trees2 <- left_join(trees1, lk) %>%
mutate(Hexagon=as.factor(Hexagon), Plot=as.factor(Plot))
Live.trees <- trees2 %>% filter(Live_status=="Standing (Live)")
SPH <-  Live.trees %>%
group_by(plot.id, Hexagon, Plot) %>% count(Species1) %>%
mutate(sph=n*10000/400)
View(SPH)
SPH1 <- SPH %>% ungroup() %>% group_by(Hexagon,Species1) %>% summarize(m.sph=mean(sph))
View(SPH1)
SPH1 <- SPH %>% ungroup() %>% group_by(Hexagon,Plot) %>% summarize(m.sph=sum(sph))
SPH <-  Live.trees %>%
group_by(plot.id, Hexagon, Plot) %>% count(Species1) %>%
mutate(sph=n*10000/400)
View(SPH)
View(Live.trees)
t.summ=Live.trees %>% select(plot.id, Hexagon, Plot, Species1, Height, DBH) %>% mutate(SPHt=10000/400)
View(t.summ)
t.summ=Live.trees %>% select(plot.id, Hexagon, Plot, Species1, Height, DBH) %>% mutate(SPHt=10000/400, BAt=pi*(DBH/200)^2)
pi*(212/200)^2
pi*(18/200)^2
View(dat3)
library(dplyr)
library(ggplot2)
dat1 <- read.csv("form-1__data-collection_May19_QA.csv")
dat2 <- read.csv("form-1__data-collection_May26.csv")
day3 <- read.csv("form-1__data-collection_May27.csv")
dat3 <- read.csv("form-1__data-collection_May27.csv")
lk <- read.csv("lookup1.csv")
dat4 <- rbind(dat1, dat2, dat3)
dat3 <- read.csv("form-1__data-collection_May27.csv")
lk <- read.csv("lookup1.csv")
dat4 <- rbind(dat1, dat2, dat3)
trees <- dat3 %>% select("X1_Establishing_a_new", "X22_Hexagon_",	"X23_Plot_",	"X24_Species",	"X25_If_other_fill_in",
"X26_Is_it_a_snag",	"X27_DBH_cm__tenth_dec",	"X28_Age_Taken",
"X29_If_age_is_taken_r",	"X30_For_tress_that_ar",	"X31_Tree_Class",
"X32_Live_crown_class",	"X33_Conk",	"X34_Blind_Conk",	"X35_Fork_Crook",
"X36_Scar",	"X37_Frost_Damage",	"X38_Mistletoe",	"X39_Rotten_Bark",
"X40_Dead_or_broken_to",	"X41_Insect_Damage",	"X42_Fire_Damage",
"X43_Down_Tree",	"X44_Additional_Commen",
"ec5_uuid")%>%
filter(X1_Establishing_a_new %in% c("No, 11.28m Plot - Core Tree collection", "Yes, ESTABLISH 11.28m plot")) %>%
rename(Test=X1_Establishing_a_new,
Hexagon=X22_Hexagon_,
Plot=X23_Plot_,
Species= X24_Species,
Other_spp= X25_If_other_fill_in,
Live_status= X26_Is_it_a_snag,
DBH=X27_DBH_cm__tenth_dec,
Age_id= X29_If_age_is_taken_r,
Height= X30_For_tress_that_ar,
Crown_class= X32_Live_crown_class,
Cruise_tree_class= X31_Tree_Class,
Conk= X33_Conk,
Blind_conk= X34_Blind_Conk,
Fork_crook= X35_Fork_Crook,
Scar= X36_Scar,
Frost_damage =X37_Frost_Damage,
Mistletoe= X38_Mistletoe,
Rotten_bark= X39_Rotten_Bark,
Dead_broken_top =X40_Dead_or_broken_to,
Insect_damage= X41_Insect_Damage,
Fire_damage= X42_Fire_Damage,
Down_tree= X43_Down_Tree,
Comments= X44_Additional_Commen)
trees1 <- trees %>% filter(ec5_uuid!="dcbab0b8-9f0a-4443-8571-46c0f8b442a1") %>%
mutate(Species1= ifelse(Species=="Ac: poplar", "Ac",
ifelse(Species=="At: trembling aspen", "At",
ifelse(Species=="Bl: subalpine fir", "Bl",
ifelse(Species== "D: alder", "D",
ifelse(Species== "Ep: paper birch", "Ep",
ifelse(Species=="Fd: douglas-fir", "Fd",
ifelse(Species== "Pl: lodgepole pine", "Pl",
ifelse(Species== "Sb: black spruce", "Sb",
ifelse(Species=="Sx: spruce hybrid", "Sx", "Other"))))))))))
trees2 <- left_join(trees1, lk) %>%
mutate(Hexagon=as.factor(Hexagon), Plot=as.factor(Plot))
Live.trees <- trees2 %>% filter(Live_status=="Standing (Live)")
t.summ=Live.trees %>% select(plot.id, Hexagon, Plot, Species1, Height, DBH) %>% mutate(SPHt=10000/400, BAt=pi*(DBH/200)^2)
library(dplyr)
library(ggplot2)
dat1 <- read.csv("form-1__data-collection_May19_QA.csv")
dat2 <- read.csv("form-1__data-collection_May26.csv")
dat3 <- read.csv("form-1__data-collection_May27.csv")
lk <- read.csv("lookup1.csv")
dat4 <- rbind(dat1, dat2, dat3)
trees <- dat3 %>% select("X1_Establishing_a_new", "X22_Hexagon_",	"X23_Plot_",	"X24_Species",	"X25_If_other_fill_in",
"X26_Is_it_a_snag",	"X27_DBH_cm__tenth_dec",	"X28_Age_Taken",
"X29_If_age_is_taken_r",	"X30_For_tress_that_ar",	"X31_Tree_Class",
"X32_Live_crown_class",	"X33_Conk",	"X34_Blind_Conk",	"X35_Fork_Crook",
"X36_Scar",	"X37_Frost_Damage",	"X38_Mistletoe",	"X39_Rotten_Bark",
"X40_Dead_or_broken_to",	"X41_Insect_Damage",	"X42_Fire_Damage",
"X43_Down_Tree",	"X44_Additional_Commen",
"ec5_uuid")%>%
filter(X1_Establishing_a_new %in% c("No, 11.28m Plot - Core Tree collection", "Yes, ESTABLISH 11.28m plot")) %>%
rename(Test=X1_Establishing_a_new,
Hexagon=X22_Hexagon_,
Plot=X23_Plot_,
Species= X24_Species,
Other_spp= X25_If_other_fill_in,
Live_status= X26_Is_it_a_snag,
DBH=X27_DBH_cm__tenth_dec,
Age_id= X29_If_age_is_taken_r,
Height= X30_For_tress_that_ar,
Crown_class= X32_Live_crown_class,
Cruise_tree_class= X31_Tree_Class,
Conk= X33_Conk,
Blind_conk= X34_Blind_Conk,
Fork_crook= X35_Fork_Crook,
Scar= X36_Scar,
Frost_damage =X37_Frost_Damage,
Mistletoe= X38_Mistletoe,
Rotten_bark= X39_Rotten_Bark,
Dead_broken_top =X40_Dead_or_broken_to,
Insect_damage= X41_Insect_Damage,
Fire_damage= X42_Fire_Damage,
Down_tree= X43_Down_Tree,
Comments= X44_Additional_Commen)
trees1 <- trees %>% filter(ec5_uuid!="dcbab0b8-9f0a-4443-8571-46c0f8b442a1") %>%
mutate(Species1= ifelse(Species=="Ac: poplar", "Ac",
ifelse(Species=="At: trembling aspen", "At",
ifelse(Species=="Bl: subalpine fir", "Bl",
ifelse(Species== "D: alder", "D",
ifelse(Species== "Ep: paper birch", "Ep",
ifelse(Species=="Fd: douglas-fir", "Fd",
ifelse(Species== "Pl: lodgepole pine", "Pl",
ifelse(Species== "Sb: black spruce", "Sb",
ifelse(Species=="Sx: spruce hybrid", "Sx", "Other"))))))))))
trees2 <- left_join(trees1, lk) %>%
mutate(Hexagon=as.factor(Hexagon), Plot=as.factor(Plot))
Live.trees <- trees2 %>% filter(Live_status=="Standing (Live)")
t.summ=Live.trees %>% select(plot.id, Hexagon, Plot, Species1, Height, DBH) %>% mutate(SPHt=10000/400, BAt=pi*(DBH/200)^2)
View(t.summ)
View(t.summ)
View(trees2)
View(dat3)
trees <- dat3 %>% select("X1_Establishing_a_new", "X22_Hexagon_",	"X23_Plot_",	"X24_Species",	"X25_If_other_fill_in",
"X26_Is_it_a_snag",	"X27_DBH_cm__tenth_dec",	"X28_Age_Taken",
"X29_If_age_is_taken_r",	"X30_For_tress_that_ar",	"X31_Tree_Class",
"X32_Live_crown_class",	"X33_Conk",	"X34_Blind_Conk",	"X35_Fork_Crook",
"X36_Scar",	"X37_Frost_Damage",	"X38_Mistletoe",	"X39_Rotten_Bark",
"X40_Dead_or_broken_to",	"X41_Insect_Damage",	"X42_Fire_Damage",
"X43_Down_Tree",	"X44_Additional_Commen",
"ec5_uuid")
trees <- dat4 %>% select("X1_Establishing_a_new", "X22_Hexagon_",	"X23_Plot_",	"X24_Species",	"X25_If_other_fill_in",
"X26_Is_it_a_snag",	"X27_DBH_cm__tenth_dec",	"X28_Age_Taken",
"X29_If_age_is_taken_r",	"X30_For_tress_that_ar",	"X31_Tree_Class",
"X32_Live_crown_class",	"X33_Conk",	"X34_Blind_Conk",	"X35_Fork_Crook",
"X36_Scar",	"X37_Frost_Damage",	"X38_Mistletoe",	"X39_Rotten_Bark",
"X40_Dead_or_broken_to",	"X41_Insect_Damage",	"X42_Fire_Damage",
"X43_Down_Tree",	"X44_Additional_Commen",
"ec5_uuid")%>%
filter(X1_Establishing_a_new %in% c("No, 11.28m Plot - Core Tree collection", "Yes, ESTABLISH 11.28m plot")) %>%
rename(Test=X1_Establishing_a_new,
Hexagon=X22_Hexagon_,
Plot=X23_Plot_,
Species= X24_Species,
Other_spp= X25_If_other_fill_in,
Live_status= X26_Is_it_a_snag,
DBH=X27_DBH_cm__tenth_dec,
Age_id= X29_If_age_is_taken_r,
Height= X30_For_tress_that_ar,
Crown_class= X32_Live_crown_class,
Cruise_tree_class= X31_Tree_Class,
Conk= X33_Conk,
Blind_conk= X34_Blind_Conk,
Fork_crook= X35_Fork_Crook,
Scar= X36_Scar,
Frost_damage =X37_Frost_Damage,
Mistletoe= X38_Mistletoe,
Rotten_bark= X39_Rotten_Bark,
Dead_broken_top =X40_Dead_or_broken_to,
Insect_damage= X41_Insect_Damage,
Fire_damage= X42_Fire_Damage,
Down_tree= X43_Down_Tree,
Comments= X44_Additional_Commen)
trees1 <- trees %>% filter(ec5_uuid!="dcbab0b8-9f0a-4443-8571-46c0f8b442a1") %>%
mutate(Species1= ifelse(Species=="Ac: poplar", "Ac",
ifelse(Species=="At: trembling aspen", "At",
ifelse(Species=="Bl: subalpine fir", "Bl",
ifelse(Species== "D: alder", "D",
ifelse(Species== "Ep: paper birch", "Ep",
ifelse(Species=="Fd: douglas-fir", "Fd",
ifelse(Species== "Pl: lodgepole pine", "Pl",
ifelse(Species== "Sb: black spruce", "Sb",
ifelse(Species=="Sx: spruce hybrid", "Sx", "Other"))))))))))
trees2 <- left_join(trees1, lk) %>%
mutate(Hexagon=as.factor(Hexagon), Plot=as.factor(Plot))
Live.trees <- trees2 %>% filter(Live_status=="Standing (Live)")
t.summ=Live.trees %>% select(plot.id, Hexagon, Plot, Species1, Height, DBH) %>% mutate(SPHt=10000/400, BAt=pi*(DBH/200)^2)
View(lk)
View(trees)
View(t.summ)
write.csv(t.summ, "Tree.Summary.csv")
t.summ=Live.trees %>% select(plot.id, Hexagon, Plot, Species1, Height, DBH) %>% mutate(SPHt=10000/400, BAt=pi*(DBH/200)^2) %>%
mutate(BA.ha=BAt*SPHt)
write.csv(t.summ, "Tree.Summary.csv")
dat1 <- read.csv("E:\\2021_UNBC_ASCC\\Data_collection\\Raw_Data\\Epicollect_Datasheets\\form-1__data-collection_May19_QA.csv")
dat1 <- read.csv("E:\\2021_UNBC_ASCC\\Data_collection\\Raw_Data\\Epicollect_Datasheets\\form-1__data-collection_May19_QA.csv")
dat2 <- read.csv("E:\\2021_UNBC_ASCC\\Data_collection\\Raw_Data\\Epicollect_Datasheets\\form-1__data-collection_May26.csv")
dat3 <- read.csv("E:\\2021_UNBC_ASCC\\Data_collection\\Raw_Data\\Epicollect_Datasheets\\form-1__data-collection_May27.csv")
lk <- read.csv("lookup1.csv")
dat4 <- rbind(dat1, dat2, dat3)
trees <- dat4 %>% select("X1_Establishing_a_new", "X22_Hexagon_",	"X23_Plot_",	"X24_Species",	"X25_If_other_fill_in",
"X26_Is_it_a_snag",	"X27_DBH_cm__tenth_dec",	"X28_Age_Taken",
"X29_If_age_is_taken_r",	"X30_For_tress_that_ar",	"X31_Tree_Class",
"X32_Live_crown_class",	"X33_Conk",	"X34_Blind_Conk",	"X35_Fork_Crook",
"X36_Scar",	"X37_Frost_Damage",	"X38_Mistletoe",	"X39_Rotten_Bark",
"X40_Dead_or_broken_to",	"X41_Insect_Damage",	"X42_Fire_Damage",
"X43_Down_Tree",	"X44_Additional_Commen",
"ec5_uuid")%>%
filter(X1_Establishing_a_new %in% c("No, 11.28m Plot - Core Tree collection", "Yes, ESTABLISH 11.28m plot")) %>%
rename(Test=X1_Establishing_a_new,
Hexagon=X22_Hexagon_,
Plot=X23_Plot_,
Species= X24_Species,
Other_spp= X25_If_other_fill_in,
Live_status= X26_Is_it_a_snag,
DBH=X27_DBH_cm__tenth_dec,
Age_id= X29_If_age_is_taken_r,
Height= X30_For_tress_that_ar,
Crown_class= X32_Live_crown_class,
Cruise_tree_class= X31_Tree_Class,
Conk= X33_Conk,
Blind_conk= X34_Blind_Conk,
Fork_crook= X35_Fork_Crook,
Scar= X36_Scar,
Frost_damage =X37_Frost_Damage,
Mistletoe= X38_Mistletoe,
Rotten_bark= X39_Rotten_Bark,
Dead_broken_top =X40_Dead_or_broken_to,
Insect_damage= X41_Insect_Damage,
Fire_damage= X42_Fire_Damage,
Down_tree= X43_Down_Tree,
Comments= X44_Additional_Commen)
library(dplyr)
library(ggplot2)
dat1 <- read.csv("E:\\2021_UNBC_ASCC\\Data_collection\\Raw_Data\\Epicollect_Datasheets\\form-1__data-collection_May19_QA.csv")
dat2 <- read.csv("E:\\2021_UNBC_ASCC\\Data_collection\\Raw_Data\\Epicollect_Datasheets\\form-1__data-collection_May26.csv")
dat3 <- read.csv("E:\\2021_UNBC_ASCC\\Data_collection\\Raw_Data\\Epicollect_Datasheets\\form-1__data-collection_May27.csv")
lk <- read.csv("lookup1.csv")
dat4 <- rbind(dat1, dat2, dat3)
trees <- dat4 %>% select("X1_Establishing_a_new", "X22_Hexagon_",	"X23_Plot_",	"X24_Species",	"X25_If_other_fill_in",
"X26_Is_it_a_snag",	"X27_DBH_cm__tenth_dec",	"X28_Age_Taken",
"X29_If_age_is_taken_r",	"X30_For_tress_that_ar",	"X31_Tree_Class",
"X32_Live_crown_class",	"X33_Conk",	"X34_Blind_Conk",	"X35_Fork_Crook",
"X36_Scar",	"X37_Frost_Damage",	"X38_Mistletoe",	"X39_Rotten_Bark",
"X40_Dead_or_broken_to",	"X41_Insect_Damage",	"X42_Fire_Damage",
"X43_Down_Tree",	"X44_Additional_Commen",
"ec5_uuid")%>%
filter(X1_Establishing_a_new %in% c("No, 11.28m Plot - Core Tree collection", "Yes, ESTABLISH 11.28m plot")) %>%
rename(Test=X1_Establishing_a_new,
Hexagon=X22_Hexagon_,
Plot=X23_Plot_,
Species= X24_Species,
Other_spp= X25_If_other_fill_in,
Live_status= X26_Is_it_a_snag,
DBH=X27_DBH_cm__tenth_dec,
Age_id= X29_If_age_is_taken_r,
Height= X30_For_tress_that_ar,
Crown_class= X32_Live_crown_class,
Cruise_tree_class= X31_Tree_Class,
Conk= X33_Conk,
Blind_conk= X34_Blind_Conk,
Fork_crook= X35_Fork_Crook,
Scar= X36_Scar,
Frost_damage =X37_Frost_Damage,
Mistletoe= X38_Mistletoe,
Rotten_bark= X39_Rotten_Bark,
Dead_broken_top =X40_Dead_or_broken_to,
Insect_damage= X41_Insect_Damage,
Fire_damage= X42_Fire_Damage,
Down_tree= X43_Down_Tree,
Comments= X44_Additional_Commen)
trees1 <- trees %>% filter(ec5_uuid!="dcbab0b8-9f0a-4443-8571-46c0f8b442a1") %>%
mutate(Species1= ifelse(Species=="Ac: poplar", "Ac",
ifelse(Species=="At: trembling aspen", "At",
ifelse(Species=="Bl: subalpine fir", "Bl",
ifelse(Species== "D: alder", "D",
ifelse(Species== "Ep: paper birch", "Ep",
ifelse(Species=="Fd: douglas-fir", "Fd",
ifelse(Species== "Pl: lodgepole pine", "Pl",
ifelse(Species== "Sb: black spruce", "Sb",
ifelse(Species=="Sx: spruce hybrid", "Sx", "Other"))))))))))
trees2 <- left_join(trees1, lk) %>%
mutate(Hexagon=as.factor(Hexagon), Plot=as.factor(Plot))
Live.trees <- trees2 %>% filter(Live_status=="Standing (Live)")
t.summ=Live.trees %>% select(plot.id, Hexagon, Plot, Species1, Height, DBH) %>% mutate(SPHt=10000/400, BAt=pi*(DBH/200)^2) %>%
mutate(BA.ha=BAt*SPHt)
View(t.summ)
library(dplyr)
library(ggplot2)
dat1 <- read.csv("E:\\2021_UNBC_ASCC\\Data_collection\\Raw_Data\\Epicollect_Datasheets\\form-1__data-collection_May19_QA.csv")
str(dat1)
Plot_details <- dat1 %>% select("X1_Establishing_a_new", "lat_3_GPS_Location", "long_3_GPS_Location",
"accuracy_3_GPS_Location",
"UTM_Northing_3_GPS_Location",
"UTM_Easting_3_GPS_Location",
"UTM_Zone_3_GPS_Location",
"X4_Hexagon_",
"X5_Plot_",
"X6_Elevation_m",
"X7_Slope___or_",
"X8_Aspect",
"X9_Slope_Position",
"X10_Surface_Shape",
"X11_Slope_Length",
"X12_Slope_Uniformity",
"X13_Slope_Continuity",
"X14_Photo__North",
"X15_Photo__East",
"X16_Photo__South",
"X17_Photo__West",
"X18_Photo__VegGround",
"X19_Photo__Overhead",
"X20_Additional_Commen") %>%
rename(Test=X1_Establishing_a_new, Hexagon=X4_Hexagon_, Plot=X5_Plot_, Elevation=X6_Elevation_m,
Slope=X7_Slope___or_, Aspect= X8_Aspect, Slope_position=X9_Slope_Position,
Surface_shape=X10_Surface_Shape, Slope_length=X11_Slope_Length, Slope_uniformity=X12_Slope_Uniformity,
Slope_continuity= X13_Slope_Continuity, Photo_north=X14_Photo__North, Photo_east=X15_Photo__East,
Photo_south=X16_Photo__South, Photo_west=X17_Photo__West, Photo_overhead=X19_Photo__Overhead, Photo_veg=X18_Photo__VegGround, Comments=X20_Additional_Commen) %>%
filter(Test=="Yes, ESTABLISH 11.28m plot")
View(Plot_details)
trees <- dat4 %>% select("X1_Establishing_a_new", "X22_Hexagon_",	"X23_Plot_",	"X24_Species",	"X25_If_other_fill_in",
"X26_Is_it_a_snag",	"X27_DBH_cm__tenth_dec",	"X28_Age_Taken",
"X29_If_age_is_taken_r",	"X30_For_tress_that_ar",	"X31_Tree_Class",
"X32_Live_crown_class",	"X33_Conk",	"X34_Blind_Conk",	"X35_Fork_Crook",
"X36_Scar",	"X37_Frost_Damage",	"X38_Mistletoe",	"X39_Rotten_Bark",
"X40_Dead_or_broken_to",	"X41_Insect_Damage",	"X42_Fire_Damage",
"X43_Down_Tree",	"X44_Additional_Commen",
"ec5_uuid")%>%
filter(X1_Establishing_a_new %in% c("No, 11.28m Plot - Core Tree collection", "Yes, ESTABLISH 11.28m plot")) %>%
rename(Test=X1_Establishing_a_new,
Hexagon=X22_Hexagon_,
Plot=X23_Plot_,
Species= X24_Species,
Other_spp= X25_If_other_fill_in,
Live_status= X26_Is_it_a_snag,
DBH=X27_DBH_cm__tenth_dec,
Age_id= X29_If_age_is_taken_r,
Height= X30_For_tress_that_ar,
Crown_class= X32_Live_crown_class,
Cruise_tree_class= X31_Tree_Class,
Conk= X33_Conk,
Blind_conk= X34_Blind_Conk,
Fork_crook= X35_Fork_Crook,
Scar= X36_Scar,
Frost_damage =X37_Frost_Damage,
Mistletoe= X38_Mistletoe,
Rotten_bark= X39_Rotten_Bark,
Dead_broken_top =X40_Dead_or_broken_to,
Insect_damage= X41_Insect_Damage,
Fire_damage= X42_Fire_Damage,
Down_tree= X43_Down_Tree,
Comments= X44_Additional_Commen)
library(dplyr)
library(ggplot2)
dat1 <- read.csv("E:\\2021_UNBC_ASCC\\Data_collection\\Raw_Data\\Epicollect_Datasheets\\form-1__data-collection_May19_QA.csv")
dat2 <- read.csv("E:\\2021_UNBC_ASCC\\Data_collection\\Raw_Data\\Epicollect_Datasheets\\form-1__data-collection_May26.csv")
dat3 <- read.csv("E:\\2021_UNBC_ASCC\\Data_collection\\Raw_Data\\Epicollect_Datasheets\\form-1__data-collection_May27.csv")
lk <- read.csv("lookup1.csv")
dat4 <- rbind(dat1, dat2, dat3)
trees <- dat4 %>% select("X1_Establishing_a_new", "X22_Hexagon_",	"X23_Plot_",	"X24_Species",	"X25_If_other_fill_in",
"X26_Is_it_a_snag",	"X27_DBH_cm__tenth_dec",	"X28_Age_Taken",
"X29_If_age_is_taken_r",	"X30_For_tress_that_ar",	"X31_Tree_Class",
"X32_Live_crown_class",	"X33_Conk",	"X34_Blind_Conk",	"X35_Fork_Crook",
"X36_Scar",	"X37_Frost_Damage",	"X38_Mistletoe",	"X39_Rotten_Bark",
"X40_Dead_or_broken_to",	"X41_Insect_Damage",	"X42_Fire_Damage",
"X43_Down_Tree",	"X44_Additional_Commen",
"ec5_uuid")%>%
filter(X1_Establishing_a_new %in% c("No, 11.28m Plot - Core Tree collection", "Yes, ESTABLISH 11.28m plot")) %>%
rename(Test=X1_Establishing_a_new,
Hexagon=X22_Hexagon_,
Plot=X23_Plot_,
Species= X24_Species,
Other_spp= X25_If_other_fill_in,
Live_status= X26_Is_it_a_snag,
DBH=X27_DBH_cm__tenth_dec,
Age_id= X29_If_age_is_taken_r,
Height= X30_For_tress_that_ar,
Crown_class= X32_Live_crown_class,
Cruise_tree_class= X31_Tree_Class,
Conk= X33_Conk,
Blind_conk= X34_Blind_Conk,
Fork_crook= X35_Fork_Crook,
Scar= X36_Scar,
Frost_damage =X37_Frost_Damage,
Mistletoe= X38_Mistletoe,
Rotten_bark= X39_Rotten_Bark,
Dead_broken_top =X40_Dead_or_broken_to,
Insect_damage= X41_Insect_Damage,
Fire_damage= X42_Fire_Damage,
Down_tree= X43_Down_Tree,
Comments= X44_Additional_Commen)
View(trees)
